# ch3. 애그리거트

### 3.1 애그리거트 : 관련된 객체를 하나의 군으로
- 상위 수준에서 모델을 정리하면 도메인 모델의 복잡한 관계를 이해하는 데 도움이 된다.
- 복잡한 도메인을 이해하고 관리하기 쉬운 단위로 만들려면 상위 수준에서 모델을 조망할 수 있는 방법이 필요한데, 그 방법이 애그리거트다.
- 수많은 객체를 애그리거트로 묶어서 바라보면 상위 수준에서 도메인 모델 간의 관계를 파악할 수 있다.
<img src="https://kjgleh.github.io/asset/images/ddd/ddd_start_03_01.PNG" width=400px>

- 즉, 애그리거트는 복잡한 모델을 관리하는 기준을 제공한다.
- 애그리거트는 관련된 모델을 하나로 모았기 때문에 한 애그리거트에 속한 객체는 유사하거나 동일한 라이프 사이클을 갖는다.
- 즉, 애그리거트에 속한 구성요소는 대부분 함께 생성하고 함께 제거한다.
- 한 애그리거트에 속한 객체는 다른 애그리거트에 속하지 않는다. 경계가 존재한다.
- 경계를 설정할 때 기본이 되는 것은 도메인 규칙과 요구사항이다.
- 함께 변경되는 빈도가 높은 객체를 한 애그리거트에 속할 가능성이 높다.
- ex) 상품과 리뷰의 관계, 리뷰의 변경이 상품에 영향을 주지 않고 반대도 같다. 따라서 둘은 다른 애그리거트에 속한다. 
- 다수의 애그리거트가 한 개의 엔티티 객체만 갖는 경우가 많으며, 두 개 이상의 엔티티로 구성되는 애그리거트는 드물다.

